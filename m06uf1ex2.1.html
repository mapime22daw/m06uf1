<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="ca">

<head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<title>Càlcul de velocitats mitjanes</title>
</head>

<body>
	<p><b><u>APLICACIÓ PEL CÀLCUL DE VELOCITATS MITJANES</u></b></p>
	<b>a) Introudeix les dades de velocitat en quilòmetres per hora (Km/h):<br></b>
	<table>
		<tbody>
			<tr>
				<td>Mostra de velocitat 1:</td>
				<td><input type="text" name="vel[]" size="5" maxlength="6" value=0></td>
				<td>Mostra de velocitat 2:</td>
				<td><input type="text" name="vel[]" size="5" maxlength="6" value=0></td>
			</tr>
			<tr>
				<td>Mostra de velocitat 3:</td>
				<td><input type="text" name="vel[]" size="5" maxlength="6" value=0></td>
				<td>Mostra de velocitat 4:</td>
				<td><input type="text" name="vel[]" size="5" maxlength="6" value=0></td>
			</tr>
			<tr>
				<td>Mostra de velocitat 5:</td>
				<td><input type="text" name="vel[]" size="5" maxlength="6" value=0></td>
				<td>Mostra de velocitat 6:</td>
				<td><input type="text" name="vel[]" size="5" maxlength="6" value=0></td>
			</tr>
			<tr>
				<td>Mostra de velocitat 7:</td>
				<td><input type="text" name="vel[]" size="5" maxlength="6" value=0></td>
				<td>Mostra de velocitat 8:</td>
				<td><input type="text" name="vel[]" size="5" maxlength="6" value=0></td>
			</tr>
		</tbody>
	</table>
	<br>
	<b>b) Escull les unitats de velocitat del resultat:</b><br>
	<input name="uv[]" value="kmh" type="checkbox" checked>Km per hora (Km/h)<br>
	<input name="uv[]" value="mph" type="checkbox">Milles per hora (mph)<br>
	<input name="uv[]" value="mps" type="checkbox">Metres per segon (m/s)<br>
	<br>
	<button onclick='fCalculaMitjanes()'>Calcula mitjanes</button>
	<button onclick='fNetejaDades()'>Neteja dades</button>
	<p><b>RESULTATS:</b></p>
	<p id="resultats"></p>
	<button onclick='fNetejaResultats()'>Neteja resultats</button>
	<script>
		function fCalculaMitjanes() {
			let mostras = document.getElementsByName('vel[]');
			let mitja = 0;
			let unitats = document.getElementsByName('uv[]');
			let seleccio = new Array();
			let mitjaMph =0;
			let mitjaMs =0;

			for (var i = 0; i < mostras.length; i++) {
				var a = mostras[i];
				mitja = mitja + parseFloat(a.value);
			}
			mitja /= 8;
			mitjaMph = mitja * 0.621;
			mitjaMs = mitja * 0.278;

			for (var k = 0; k < unitats.length; k++) {
				if (unitats[k].checked) {
					seleccio.push(unitats[k].checked);
				}
				else {
					seleccio.push("");
				}
			}
			if (seleccio[0] == true) {
				document.getElementById('resultats').innerHTML += `La velocitat mitjana en Km/h es de ${mitja.toFixed(2)} <br>`;
			}
			if (seleccio[1] == true) {
				document.getElementById('resultats').innerHTML += `La velocitat mitjana en mph es de ${mitjaMph.toFixed(2)} <br>`;
			}
			if (seleccio[2] == true) {
				document.getElementById('resultats').innerHTML += `La velocitat mitjana en m/s es de ${mitjaMs.toFixed(2)} <br>`;
			}

		}

		function fNetejaDades() {
			let mostras = document.getElementsByName('vel[]');
			let unitats = document.getElementsByName('uv[]');
			for (var i = 0; i < mostras.length; i++) {
				var a = mostras[i];
				a.value = 0;
			}
			for (var k = 0; k < unitats.length; k++) {
				var b = unitats[k];
				if(k==0){
					b.checked = true;
				}
				else{
					b.checked = false;
				}
				
			}
		}

		function fNetejaResultats() {
			document.getElementById('resultats').innerHTML = ``;
		}

	</script>
</body>

</html>
